---
interface Props {
	linkHoverColor?: string;
	linkUnderlineColor?: string;
}

const { linkHoverColor, linkUnderlineColor } = Astro.props;
---

<article class="post">
	<slot />
</article>

<style
	is:global
	define:vars={{ 'link-hover-color': linkHoverColor, 'link-underline-color': linkUnderlineColor }}
>
	article.post {
		width: 100%;
		/* margin: 0 auto; */
		padding: 0 0.5rem;
	}

	article.post {
		margin-top: var(--margin-xl);
		line-height: 1;
	}

	article.post p {
		font-size: var(--text-lg);
		line-height: 1.25;
		margin-bottom: var(--margin-xl);
		text-wrap: pretty;
	}

	article.post a {
		color: var(--text-color);
		text-decoration-color: var(--link-underline-color);
	}

	article.post a:hover {
		color: var(--link-hover-color);
	}

	article.post h1 {
		font-size: var(--text-4xl);
		margin-bottom: var(--margin-md);
		line-height: 1;
	}

	article.post h2 {
		font-size: var(--text-3xl);
		margin-bottom: var(--margin-md);
		line-height: 1;
	}

	article.post h3 {
		font-size: var(--text-2xl);
		margin-bottom: var(--margin-md);
	}

	article.post blockquote {
		border-left: 0.5rem solid var(--background-color);
		padding-left: 1rem;
	}

	article.post iframe {
		aspect-ratio: 16 / 9;
		width: 100%;
		margin-bottom: var(--margin-lg);
	}

	article.post ul {
		font-size: var(--text-lg);
		margin-left: var(--margin-lg);
		margin-bottom: var(--margin-xl);
		line-height: 1.5;
	}

	article.post ul li {
		margin-bottom: var(--margin-md);
	}

	article.post p:has(img) {
		margin: 0;
		width: 100vw;
		max-width: 100%;
		display: flex;
		flex-wrap: wrap;
		gap: 1rem;
		overflow-y: scroll;
		scroll-snap-type: y mandatory;
	}

	article.post p:has(img) > img {
		width: auto;
		max-height: 30rem;
		object-fit: cover;
		scroll-snap-align: start;
	}

	article.post hr {
		border: 0;
		border-top: 1px solid var(--border-color);
		margin: var(--margin-xl) 0;
	}

	@media (min-width: 768px) {
		article.post {
			max-width: 70vw;
			line-height: 1.25;
			padding: 0 1rem;
		}
	}
</style>
